var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):$jscomp.arrayIterator(b)};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.ASSUME_ES5=!1;
$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};
$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,a){var c=$jscomp.propertyToPolyfillSymbol[a];if(null==c)return b[a];c=b[c];return void 0!==c?c:b[a]};$jscomp.polyfill=function(b,a,c,e){a&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,a,c,e):$jscomp.polyfillUnisolated(b,a,c,e))};
$jscomp.polyfillUnisolated=function(b,a,c,e){c=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var d=b[e];if(!(d in c))return;c=c[d]}b=b[b.length-1];e=c[b];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})};
$jscomp.polyfillIsolated=function(b,a,c,e){var d=b.split(".");b=1===d.length;e=d[0];e=!b&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<d.length-1;f++){var h=d[f];if(!(h in e))return;e=e[h]}d=d[d.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?e[d]:null;a=a(c);null!=a&&(b?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:a}):a!==c&&($jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+d,d=
$jscomp.propertyToPolyfillSymbol[d],$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:a})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(b,a){for(var c=1;c<arguments.length;c++){var e=arguments[c];if(e)for(var d in e)$jscomp.owns(e,d)&&(b[d]=e[d])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Object.is",function(b){return b?b:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(a,c){var e=this;e instanceof String&&(e=String(e));var d=e.length;c=c||0;for(0>c&&(c=Math.max(c+d,0));c<d;c++){var f=e[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,a,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(a,c){var e=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=e.length);c=Math.max(0,Math.min(c|0,e.length));for(var d=a.length;0<d&&0<c;)if(e[--c]!=a[--d])return!1;return 0>=d}},"es6","es3");
var CTFForm=function(b){var a=this;this.request=Object.assign({},{method:"POST",data:{}},b.request);this.url=b.url;this.selector=b.selector;this.DOM=document.querySelector(this.selector);this.beforesend=b.beforesend||this.__beforesend;this.beforesuccess=b.beforesuccess||this.__beforesuccess;this.beforeerror=b.beforeerror||this.__beforeerror;this.beforeresult=b.beforeresult||this.__beforeresult;this.success=b.success||this.__success;this.error=b.error||this.__error;this.recaptcha=b.recaptcha||!1;this.DOM.onsubmit=
function(c){c.preventDefault();c={};for(var e=$jscomp.makeIterator(a.DOM.elements),d=e.next();!d.done;d=e.next())if(d=d.value,["INPUT","TEXTAREA"].includes(d.nodeName)){var f=d.name;if(f&&""!=f){var h=d.value;if("checkbox"!=d.type||0!=d.checked)f.endsWith("[]")?(f=f.slice(0,-2),null==c[f]&&(c[f]=[]),c[f].push(h)):c[f]=h}}else"SELECT"==d.nodeName&&(c[d.name]=d.options[d.selectedIndex].value);c=Object.assign({},a.request,{data:Object.assign({},a.request.data||{},c)});"function"==typeof a.beforesend&&
a.beforesend();Creators.Actions.API.send(a.url,c).then(function(g){"function"==typeof a.beforeresult&&a.beforeresult(g);"SUCCESS"==g.result?("function"==typeof a.beforesuccess&&a.beforesuccess(g),"function"==typeof a.success&&a.success(g)):("function"==typeof a.beforeerror&&a.beforeerror(g),"function"==typeof a.error&&a.error(g))}).catch(function(g){"function"==typeof a.beforeresult&&a.beforeresult(g);"function"==typeof a.beforeerror&&a.beforeerror(g);"function"==typeof a.error&&a.error(g)})}};
CTFForm.prototype.__beforesend=function(){Creators.Actions.Modals.progress({name:"Sending form...",innerText:"Please wait while we are processing your data."})};CTFForm.prototype.__beforesuccess=function(){};CTFForm.prototype.__beforeerror=function(){};CTFForm.prototype.__beforeresult=function(){Creators.Actions.Modals.close()};CTFForm.prototype.__success=function(){Creators.Actions.Modals.alert({name:"Success!",innerText:"Data has been successfully processed."})};CTFForm.prototype.__error=function(b){Creators.Actions.Modals.error({innerText:b.error.title})};
